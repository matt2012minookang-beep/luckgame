<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>운빨겜!</title>

  <!-- ✅ CSS 로딩 꼬여도 “나열” 최소화(응급) -->
 <style>
  /* ✅ CSS 파일이 로딩이 안 돼도, 기본적으로 화면이 나열되지 않게 강제 */
  .hidden { display:none !important; }

  /* 모든 screen은 기본 숨김 */
  section.screen { display:none; }

  /* 시작은 main만 보이기 */
  #screen-main { display:block; }

  /* 스크롤 자체 차단 */
  html, body { height:100%; margin:0; overflow:hidden; }
  #app { height:100vh; overflow:hidden; }
</style>


  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app">
    <!-- 공용 HUD -->
    <header class="hud">
      <div class="hud-left">
        <div class="gem-ico">💎</div>
      </div>

      <div class="hud-right">
        <div class="hud-line">
          <span class="hud-label">크리스탈:</span>
          <span id="gemsText" class="hud-value">0</span>
        </div>
        <div id="serverLuckLine" class="hud-line small hidden">
          <span class="hud-label">서버럭:</span>
          <span id="serverLuckText" class="hud-value">00:00</span>
          <span class="hud-label">남음</span>
        </div>
      </div>
    </header>

    <!-- =========================
         MAIN
    ========================== -->
    <section id="screen-main" class="screen theme-green">
      <div class="screen-inner">
        <h1 class="title">운빨겜!</h1>

        <button id="btnStart" class="btn btn-primary">게임 시작!</button>

        <div class="row gap8 mt12">
          <button id="btnShop" class="btn">상점</button>
          <button id="btnEquip" class="btn">장비</button>
        </div>

        <div class="mt8 subtle" id="needSelectText">캐릭터/주무기 선택 필요</div>

        <div class="box-actions mt12">
          <button id="btnBox" class="btn btn-primary">상자 뽑기!</button>
          <button id="btnBattle" class="btn btn-primary">전투시작!</button>
        </div>

        <div class="mt10 notice" id="mainNotice"></div>
      </div>
    </section>

    <!-- =========================
         SHOP
    ========================== -->
    <section id="screen-shop" class="screen theme-blue hidden">
      <button class="btn back" data-back="main">←</button>
      <div class="screen-inner">
        <h2 class="h2">상점</h2>

        <div class="shop-stack">
          <div id="shopFreeCard" class="card card-xl clickable">
            <div class="card-emo">💎</div>
            <div class="card-title">크리스탈</div>
            <div id="shopFreeStatus" class="card-sub">10개</div>
            <div id="shopFreeTimer" class="card-sub small"></div>
          </div>

          <div id="shopLuckCard" class="card card-xl clickable">
            <div class="card-emo">🍀</div>
            <div class="card-title">서버 운 강화</div>
            <div class="card-sub">크리스탈 5개 💎</div>
            <div id="shopLuckTimer" class="card-sub small"></div>
          </div>
        </div>

        <div class="mt12 notice" id="shopNotice"></div>
      </div>
    </section>

    <!-- =========================
         BOX SELECT
    ========================== -->
    <section id="screen-box" class="screen theme-pink hidden">
      <button class="btn back" data-back="main">←</button>
      <div class="screen-inner">
        <h2 class="h2">상자 뽑기</h2>

        <div class="cards-row">
          <div id="cardNormal" class="card clickable">
            <div class="card-title">일반 상자 업그레이드</div>
            <div id="priceNormal" class="card-sub big">무료 1회 남음</div>
          </div>

          <div id="cardMid" class="card clickable">
            <div class="card-title">중급 상자 업그레이드</div>
            <div id="priceMid" class="card-sub big">무료 1회 남음</div>
          </div>

          <div id="cardHigh" class="card clickable">
            <div class="card-title">고급 상자 업그레이드</div>
            <div id="priceHigh" class="card-sub big">무료 1회 남음</div>
          </div>
        </div>

        <div class="mt12 notice" id="boxNotice"></div>
      </div>
    </section>

    <!-- =========================
         CHEST UPGRADES (Normal / Mid / High)
    ========================== -->
    <section id="screen-upgrade" class="screen theme-pink hidden">
      <div class="screen-inner">
        <div id="tapHint" class="tap-hint">탭하세요!</div>
        <div id="upgradeTitle" class="upgrade-title">브론즈</div>

        <div id="tapArea" class="tap-area clickable">
          <div id="boxHolder" class="box-holder">
            <div id="boxA" class="box-emo">📦</div>
            <div id="boxB" class="box-emo hidden">📦</div>
          </div>
          <div id="dots" class="dots">● ● ●</div>
        </div>
      </div>
    </section>

    <!-- =========================
         EQUIP (tabs)
    ========================== -->
    <section id="screen-equip" class="screen theme-green hidden">
      <button class="btn back" data-back="main">←</button>
      <div class="screen-inner">
        <h2 class="h2">장비 구성</h2>

        <div class="tabs">
          <button class="tab active" data-tab="char">캐릭터</button>
          <button class="tab" data-tab="mainw">주무기</button>
          <button class="tab" data-tab="subw">보조무기</button>
          <button class="tab" data-tab="relic">유물</button>
        </div>

        <div id="equipGrid" class="grid"></div>
      </div>
    </section>

    <!-- =========================
         DETAIL MODAL (Equip detail)
    ========================== -->
    <div id="modal" class="modal hidden">
      <div class="modal-card">
        <div class="modal-top">
          <button id="modalClose" class="btn">←</button>
          <div id="modalTitle" class="modal-title">상세</div>
        </div>

        <div class="modal-body">
          <div class="modal-left">
            <div id="modalBig" class="modal-big">🪵</div>
            <div id="modalDesc" class="modal-desc"></div>
          </div>

          <div class="modal-right">
            <div id="modalStats" class="stats"></div>
          </div>
        </div>

        <div class="modal-bottom">
          <button id="btnSelect" class="btn btn-primary">선택</button>
          <button id="btnMainAction" class="btn btn-primary">업그레이드</button>
        </div>

        <div id="modalNotice" class="mt10 notice"></div>
      </div>
    </div>

    <!-- =========================
         CONFIRM OVERLAY
    ========================== -->
    <div id="confirm" class="confirm hidden">
      <div class="confirm-card">
        <div id="confirmMsg" class="confirm-msg">정말로 구매하시겠습니까?</div>
        <div class="confirm-row">
          <button id="confirmYes" class="btn btn-primary w120">예</button>
          <button id="confirmNo" class="btn w120">아니요</button>
        </div>
      </div>
    </div>

    <!-- =========================
         REWARD POPUP
    ========================== -->
    <div id="reward" class="reward hidden">
      <div class="reward-card clickable">
        <div class="reward-emo">💎</div>
        <div id="rewardText" class="reward-text">크리스탈 1개를 획득했습니다!</div>
      </div>
    </div>

    <!-- =========================
         BATTLE
    ========================== -->
    <section id="screen-battle" class="screen theme-white hidden">
      <button id="btnBattleHome" class="btn battle-home">메인 화면</button>
      <canvas id="battleCanvas"></canvas>
    </section>
  </div>

  <script src="./app.js"></script>
</body>
</html>

