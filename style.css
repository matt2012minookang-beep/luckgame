/* ===== 기본 ===== */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: "Malgun Gothic", system-ui, sans-serif; }
html, body { width: 100%; height: 100%; background: #06150b; color: #fff; }

/* ===== 상단바 ===== */
.topBar{
  height:56px;
  padding:0 14px;
  display:flex;
  align-items:center;
  gap:12px;
  background:#06150b;
  border-bottom: 0px solid transparent;
}
.topTitles{ display:flex; flex-direction:column; gap:2px; }
.topTitle{ font-size:18px; font-weight:800; }
.topSub{ font-size:12px; opacity:.75; }
.topRight{ margin-left:auto; display:flex; flex-direction:column; align-items:flex-end; gap:2px; }
.gems{ font-size:14px; opacity:.95; }
.luckLine{ font-size:12px; opacity:.9; }

/* ===== 버튼 ===== */
.btn{
  border:none;
  cursor:pointer;
  font-weight:800;
  border-radius:10px;
  padding:10px 16px;
}
.btn.small{ padding:6px 10px; font-size:12px; }
.btn-white{ background:#fff; color:#000; }
.btn-white:hover{ background:#e6e6e6; }

/* ===== 화면 루트 ===== */
.screenRoot{
  width:100%;
  height:calc(100% - 56px);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

/* ===== 공용: 카드 ===== */
.panel{
  width:520px;
  max-width:90vw;
  padding:28px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.35);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
}
.bigTitle{ font-size:34px; font-weight:900; opacity:.85; }

/* ===== 메인 화면 (GameScreen) 박스 ===== */
.gameBox{
  width:520px;
  height:140px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.7);
  display:flex;
  align-items:center;
  justify-content:space-around;
  padding:12px;
}

/* ===== 상점 카드 ===== */
.shopRow{
  display:flex;
  gap:22px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}
.shopCard{
  width:380px;
  height:320px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:16px;
  user-select:none;
}
.shopEmoji{ font-size:58px; margin-top:10px; }
.shopName{ font-size:18px; font-weight:900; margin-top:6px; }
.shopMid{ font-size:14px; margin-top:10px; opacity:.95; text-align:center; }
.shopSmall{ font-size:12px; margin-top:6px; opacity:.85; }

/* ===== 상자 선택 화면 ===== */
.boxRow{
  display:flex;
  gap:22px;
  justify-content:center;
  flex-wrap:wrap;
}
.boxCard{
  width:250px;
  height:190px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:16px;
  user-select:none;
}
.boxCardTitle{ font-weight:900; font-size:14px; opacity:.95; }
.boxCardPrice{ font-weight:900; font-size:16px; margin-top:12px; }

/* ===== 업그레이드(탭) 화면 공용 ===== */
.tapText{
  font-size:18px;
  font-weight:900;
  margin-top:12px;
}
.upGradeTitle{
  font-size:22px;
  font-weight:900;
  margin-top:6px;
}
.clickArea{
  width:640px;
  height:520px;
  max-width:92vw;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  position:relative;
  user-select:none;
}
.boxHolder{
  display:flex;
  gap:18px;
  align-items:center;
  justify-content:center;
  transform: translateY(0px);
}
.emojiBoxNormal{ font-size:78px; }
.emojiBoxBig{ font-size:118px; }
.dotsLine{
  position:absolute;
  bottom:26px;
  left:50%;
  transform:translateX(-50%);
  font-size:18px;
  font-weight:900;
  opacity:.95;
}

/* ===== 장비 화면 ===== */
.equipWrap{
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:18px;
  gap:10px;
}
.equipTitle{ font-size:22px; font-weight:900; opacity:.95; margin-top:8px; }
.tabRow{
  display:flex;
  gap:14px;
  margin-top:4px;
}
.tabBtn{
  width:110px;
  height:56px;
  border-radius:14px;
  border:2px solid #fff;
  background:#fff;
  color:#000;
  font-weight:900;
  cursor:pointer;
}
.tabBtn.active{ background:yellow; }
.equipScroll{
  width:min(860px, 94vw);
  height:calc(100% - 190px);
  overflow:auto;
  padding:8px;
  border-radius:18px;
}
.grid5{
  display:grid;
  grid-template-columns: repeat(3, 180px);
  gap:28px;
  justify-content:flex-start;
}
.slot{
  width:180px; height:180px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  position:relative;
  user-select:none;
}
.slotEmoji{ font-size:46px; margin-top:8px; }
.slotInnerBlack{
  width:90px; height:90px;
  background:#000;
  border-radius:6px;
  margin-top:16px;
}
.slotName{
  margin-top:8px;
  font-weight:900;
  font-size:12px;
}
.slotLevel{
  position:absolute;
  right:10px;
  top:8px;
  font-weight:900;
  font-size:12px;
}
.slotMax{
  position:absolute;
  bottom:6px;
  font-weight:900;
  font-size:10px;
  opacity:.95;
}
/* ✅ 맥시멈 때 이름이랑 안 겹치게: "맥시멈" 표시되면 이름 위로 올림 */
.slot.max-on .slotName{ margin-top:0px; transform: translateY(-10px); }

/* ===== 상세 화면(캐릭터/무기) ===== */
.detailWrap{
  width:100%;
  height:100%;
  position:relative;
}
.detailHeader{
  position:absolute;
  left:12px; top:12px;
  display:flex;
  align-items:center;
  gap:10px;
}
.detailName{ font-size:16px; font-weight:900; }
.detailSub{ font-size:12px; opacity:.9; margin-left:4px; }
.detailCrystal{
  position:absolute;
  right:16px; top:16px;
  font-weight:900;
}
.bigBlackBox{
  position:absolute;
  left:28%;
  top:45%;
  transform:translate(-50%,-50%);
  width:260px;
  height:260px;
  background:#000;
  border-radius:10px;
}
.bigWeapon{
  position:absolute;
  left:28%;
  top:45%;
  transform:translate(-50%,-50%);
  font-size:120px;
}
.detailDesc{
  position:absolute;
  left:28%;
  top:72%;
  transform:translate(-50%,-50%);
  width:420px;
  text-align:center;
  font-weight:900;
  opacity:.95;
}
.statCol{
  position:absolute;
  right:80px;
  top:110px;
  display:flex;
  flex-direction:column;
  gap:10px;
  font-size:16px;
  font-weight:900;
}
.detailNotice{
  position:absolute;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  font-weight:900;
}
.upBtn{
  position:absolute;
  right:22px;
  bottom:22px;
  padding:12px 16px;
  border-radius:12px;
  border:none;
  font-weight:900;
  background:#fff;
  color:#000;
  cursor:pointer;
}
.upBtn:disabled{
  opacity:.6;
  cursor:not-allowed;
}

/* ===== 공용: 오버레이 ===== */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
/* ✅ 핵심: hidden이면 어떤 CSS도 못 이기게 한다 */
.overlay[hidden]{ display:none !important; }

.overlayCard{
  background:#0a0a0a;
  border-radius:18px;
  border:3px solid rgba(255,255,255,.8);
  padding:28px 36px;
  text-align:center;
}
.overlayEmoji{ font-size:64px; }
.overlayText{ font-size:16px; margin-top:12px; font-weight:900; }
.overlayHint{ font-size:12px; opacity:.7; margin-top:10px; }

/* confirm overlay */
.confirmCard{
  width:520px;
  max-width:92vw;
  padding:24px;
  border-radius:18px;
  background:#0a0a0a;
  border:3px solid rgba(255,255,255,.9);
  text-align:center;
}
.confirmMsg{
  font-size:16px;
  font-weight:900;
  margin-bottom:18px;
  white-space:pre-line;
}
.confirmBtns{ display:flex; gap:16px; justify-content:center; }

/* inline confirm card (파이썬 InlineConfirm처럼) */
.inlineCard{
  width:560px;
  max-width:92vw;
  padding:24px;
  border-radius:18px;
  background:#0a0a0a;
  border:3px solid rgba(255,255,255,.9);
  text-align:center;
}
.inlineTitle{ font-size:18px; font-weight:900; margin-bottom:10px; white-space:pre-line; }
.inlineDesc{ font-size:14px; font-weight:900; opacity:.92; margin-bottom:18px; white-space:pre-line; }
